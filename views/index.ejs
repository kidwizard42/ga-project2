<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    
    <title>Social Media</title>
</head>
<body>
    <nav class="main-nav"> <form action="/logout" method="POST"> <input type="submit" name="logout" value="Log Out"></form>  
        <a href=""></a>

        <a href="/show/<%= id %>"> to show</a>
        </nav>

    <h1>welcome, <%= user %> </h1>

    <div class="makePost mb-3">
        <form action="/makePost" method="POST"> 
             
          <label for="content"> Type Here</label>
          <textarea name="content" class="form-control" id="exampleFormControlTextarea1 content" rows="3"></textarea>
          

          <input type="submit" name="submit" >
        
        </form>
    </div>

    <% for ( let i= post.length-1; i>=0; i-- ){ %>
        <div>
            <%=  post[i].poster %>  :
            <%= post[i].content %>

            <form action="/likes" method="POST">
                <ion-icon name="arrow-up-circle">
                 <input type="radio" name="like" id="">
                </ion-icon>
                <ion-icon name="arrow-down-circle">
                    <input type="radio" name="dislike" id="">
                </ion-icon>

            </form>
            <!-- EDIT POST FORM -->

            <!-- needs to be == not === because they're stored differently -->
            <% if (post[i].user == id ) { %>

            <form action="/edit/poster/<%= post[i].id%>" method="GET">
                <input type="submit" name="Edit Here" value="Edit">
            </form>
            <!-- DELETE POST FORM -->
            <form action="/deleteById/<%= post[i].id %>?_method=DELETE" method="POST">
            <input type="submit" name="delete" value="Delete"></form>

            <form action="/"></form>
            <% } %> 
        </div>
    <% } %>
 
    
    


    <script
      type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    
</body>
</html>